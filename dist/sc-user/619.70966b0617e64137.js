"use strict";(self.webpackChunksc_user=self.webpackChunksc_user||[]).push([[619],{1619:(b,g,r)=>{r.r(g),r.d(g,{CartListComponent:()=>f});var t=r(6689),l=r(6814),h=r(9862),u=r(95),_=r(4670),c=r(6565),a=r(6286),p=r(9564);const U=function(i){return{"bg-blue-100":i}};function C(i,n){if(1&i&&(t.ynx(0),t.TgZ(1,"tr",10)(2,"td",5),t._uU(3),t.qZA(),t.TgZ(4,"td",5),t._uU(5),t.qZA(),t.TgZ(6,"td",5),t._uU(7),t.qZA(),t.TgZ(8,"td",5),t._uU(9),t.qZA(),t.TgZ(10,"td",5),t._uU(11),t.qZA()(),t.BQk()),2&i){const e=n.$implicit,s=n.index;t.xp6(1),t.Q6J("ngClass",t.VKq(6,U,s%2!=0)),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.model),t.xp6(2),t.Oqu(e.address.address),t.xp6(2),t.Oqu(e.address.city),t.xp6(2),t.Oqu(e.address.province)}}function m(i,n){1&i&&(t.TgZ(0,"tr")(1,"td",11),t._uU(2," No Device "),t.qZA()())}function v(i,n){1&i&&(t.TgZ(0,"tr")(1,"td",11),t._UZ(2,"i",12),t.qZA()())}let f=(()=>{class i{constructor(){this.service=(0,t.f3M)(a.N),this.router=(0,t.f3M)(_.F0),this.notif=(0,t.f3M)(p.g),this.form=new u.NI(""),this.status=c.q.initial,this.rawStatus=c.q,this.dataParams={page:1,limit:10,search:""}}ngOnInit(){this.read(),this.form.valueChanges.subscribe(e=>this.search(e))}changePage(e){switch(e){case c.u.increment:this.dataParams.page+=1;break;case c.u.decrement:this.dataParams.page-=1}this.read()}limitChange(e){this.dataParams.limit=e,this.read()}search(e){this.dataParams.search=e??"",this.read()}read(){this.status=c.q.loading,this.service.read(this.params).subscribe({next:e=>{this.devices=e,this.status=c.q.initial},error:e=>{this.devices=void 0,this.status=c.q.error}})}checkOut(){this.service.post().subscribe({next:e=>{this.notif.push({message:"Perangkat berhasil dipesan",status:"success"}),this.read()},error:e=>{console.log(e),this.notif.push({message:"Perangkat gagal dipesan",status:"failure"})}})}get params(){return(new h.LE).set("page",this.dataParams.page??1).append("limit",this.dataParams.limit??10).append("search",this.dataParams.search??"")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-cart-list"]],standalone:!0,features:[t.jDz],decls:24,vars:3,consts:[[1,"bg-white","shadow","rounded-lg","p-5"],[1,"flex","flex-col","gap-5","overflow-x-auto"],[1,"flex","flex-row","justify-between","place-items-center"],[1,"font-bold","text-lg"],[1,"text-left","bg-blue-500","text-white"],[1,"px-4","py-2"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","flex-row","justify-end"],[1,"px-4","py-2","rounded-lg","bg-green-500","hover:bg-green-600","text-white","font-bold",3,"click"],[3,"ngClass"],["colspan","6",1,"text-center","font-bold","px-4","py-2"],[1,"fa-solid","fa-spinner","animate-spin","text-xl"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),t._uU(4,"Tabel Daftar Keranjang"),t.qZA()(),t.TgZ(5,"table")(6,"thead",4)(7,"th",5),t._uU(8,"ID"),t.qZA(),t.TgZ(9,"th",5),t._uU(10,"Model"),t.qZA(),t.TgZ(11,"th",5),t._uU(12,"Alamat"),t.qZA(),t.TgZ(13,"th",5),t._uU(14,"Kota"),t.qZA(),t.TgZ(15,"th",5),t._uU(16,"Provinsi"),t.qZA()(),t.TgZ(17,"tbody"),t.YNc(18,C,12,8,"ng-container",6),t.YNc(19,m,3,0,"tr",7),t.YNc(20,v,3,0,"tr",7),t.qZA()(),t.TgZ(21,"div",8)(22,"button",9),t.NdJ("click",function(){return s.checkOut()}),t._uU(23,"PESAN"),t.qZA()()()()),2&e&&(t.xp6(18),t.Q6J("ngForOf",null==s.devices?null:s.devices.data),t.xp6(1),t.Q6J("ngIf",0==(null==s.devices||null==s.devices.data?null:s.devices.data.length)),t.xp6(1),t.Q6J("ngIf",s.status==s.rawStatus.loading))},dependencies:[l.ez,l.mk,l.sg,l.O5,u.UX]}),i})()},9564:(b,g,r)=>{r.d(g,{g:()=>i});var t=r(5619);const h={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let u;const _=new Uint8Array(16);function c(){if(!u&&(u=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(_)}const a=[];for(let n=0;n<256;++n)a.push((n+256).toString(16).slice(1));const v=function m(n,e,s){if(h.randomUUID&&!e&&!n)return h.randomUUID();const o=(n=n||{}).random||(n.rng||c)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){s=s||0;for(let d=0;d<16;++d)e[s+d]=o[d];return e}return function p(n,e=0){return(a[n[e+0]]+a[n[e+1]]+a[n[e+2]]+a[n[e+3]]+"-"+a[n[e+4]]+a[n[e+5]]+"-"+a[n[e+6]]+a[n[e+7]]+"-"+a[n[e+8]]+a[n[e+9]]+"-"+a[n[e+10]]+a[n[e+11]]+a[n[e+12]]+a[n[e+13]]+a[n[e+14]]+a[n[e+15]]).toLowerCase()}(o)};var f=r(6689);let i=(()=>{class n{constructor(){this.subject=new t.X([]),this.observable=this.subject.asObservable()}push(s){s.id=v();let o=this.subject.getValue();o.push(s),this.subject.next(o),setInterval(()=>this.delete(s.id),3e3)}delete(s){let d=this.subject.getValue().filter(x=>x.id!=s);this.subject.next(d)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);